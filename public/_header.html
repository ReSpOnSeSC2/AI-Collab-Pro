<header class="row header-row global-header py-2 align-items-center sticky-top">
    <div class="col-auto">
        <a href="hub.html" class="text-decoration-none">
             <h1 class="mb-0 header-title">AI Hub</h1>
        </a>
    </div>
    <div class="col text-center d-flex align-items-center justify-content-center">
        <!-- User info display -->
        <div class="user-info me-2">
            <span id="header-user-info" class="small text-muted"></span>
        </div>
    </div>
    <nav class="col-auto d-flex align-items-center global-nav">
        <a href="hub.html" class="btn btn-sm btn-outline-secondary me-2" aria-label="AI Chat" title="AI Chat">
            <i class="bi bi-chat-dots-fill me-1"></i> Chat
        </a>
        <a href="model-comparison.html" class="btn btn-sm btn-outline-secondary me-2" aria-label="Model comparison" title="Compare AI models">
            <i class="bi bi-bar-chart-line me-1"></i> Compare
        </a>
        <a href="admin-models.html" class="btn btn-sm btn-outline-secondary me-2" aria-label="Model administration" title="Admin AI models">
            <i class="bi bi-gear me-1"></i> Admin
        </a>
        <!-- Logout button -->
        <button id="global-logout-button" class="btn btn-sm btn-outline-danger me-2" aria-label="Logout" title="Logout">
            <i class="bi bi-box-arrow-right me-1"></i> Logout
        </button>
        <!-- Theme Toggle is essential globally -->
        <button id="theme-toggle-btn" class="btn theme-toggle-btn ms-2" aria-label="Toggle theme" title="Toggle light/dark theme">
            <i class="bi bi-sun-fill light-icon"></i>
            <i class="bi bi-moon-stars-fill dark-icon"></i>
        </button>
    </nav>
</header>

<script>
// Initialize header user info and logout functionality
document.addEventListener('DOMContentLoaded', () => {
    // Handle auth:login event to update user info
    document.addEventListener('auth:login', (event) => {
        const user = event.detail;
        if (user && user.name) {
            document.getElementById('header-user-info').textContent = `Hello, ${user.name}`;
        }
    });
    
    // Setup logout button
    const logoutBtn = document.getElementById('global-logout-button');
    if (logoutBtn) {
        logoutBtn.addEventListener('click', () => {
            if (window.AICollabAuth) {
                window.AICollabAuth.logout();
            } else {
                // Fallback if AICollabAuth is not available
                window.location.href = '/login.html';
            }
        });
    }
});
</script>